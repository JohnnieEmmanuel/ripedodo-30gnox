{"version":3,"file":"src_app_movieinfo_movieinfo_module_ts.js","mappings":"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","sources":["./src/app/movieinfo/movieinfo-routing.module.ts","./src/app/movieinfo/movieinfo.module.ts","./src/app/movieinfo/movieinfo.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MovieinfoPage } from './movieinfo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MovieinfoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MovieinfoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MovieinfoPageRoutingModule } from './movieinfo-routing.module';\n\nimport { MovieinfoPage } from './movieinfo.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MovieinfoPageRoutingModule\n  ],\n  declarations: [MovieinfoPage]\n})\nexport class MovieinfoPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport {MoviecrudService} from '../services/moviecrud.service';\n\nimport {StreamingMedia,StreamingVideoOptions} from \"@ionic-native/streaming-media/ngx\"\nimport { FullscreenPage } from '../fullscreen/fullscreen.page';\n\nimport { Capacitor } from '@capacitor/core';\nimport { ModalController } from '@ionic/angular';\nimport { MovieuploadService,Movie } from '../services/movieupload.service';\nimport { WatchlaterService } from '../services/watchlater.service';\n\n@Component({\n  selector: 'app-movieinfo',\n  templateUrl: './movieinfo.page.html',\n  styleUrls: ['./movieinfo.page.scss'],\n})\nexport class MovieinfoPage implements OnInit {\n\n  episodes: string[] = [\"episode 1\", \"episode 2\", \"episode 3\", \"episode 4\", \"episode 5\"];\n\n  // pushLog(msg) {\n  //   this.episodes.unshift(msg);\n  // }\n\n  // handleChange(e) {\n  //   this.pushLog('ionChange fired with value: ' + e.detail.value);\n  // }\n\n  videoUrl:string ;\n\n\n  public wPlatform = false;\n  public aPlatform = false;\n  public iPlatform = false;\n  private url: string = null;\n  private sturl: string = null;\n  private stlang: string = null;\n  private stoptions: any = null;\n  private platform: string = null;\n  private rate = 1.0;\n  private exitOnEnd = true;\n  private loopOnEnd = false;\n  private pipEnabled = true;\n  private bkmodeEnabled = true;\n\n/* Video with subtitles in spanish*/\npublic mp4 ;\nprivate mp4st = 'https://brenopolanski.github.io/html5-video-webvtt-example/MIB2-subtitles-pt-BR.vtt';\nprivate mp4stLang = 'es';\nprivate mp4stOptions: any = {backgroundColor:'rgba(0,0,0,0)', fontSize: 18, foregroundColor:'rgba(128,128,0,1)'};\n/* end video with subtitle */\n\nprivate testApi = false;\n\n  information = null;\nmovieId:any\n  /**\n   * Constructor of our details page\n   * @param activatedRoute Information about the route we are on\n   * @param moviecrudService The movie Service to get data\n   \n   */\n  constructor(private watchlaterService:WatchlaterService,private router: Router,private activatedRoute: ActivatedRoute, private moviecrudService:MoviecrudService,private streamingMedia: StreamingMedia,public modalCtrl: ModalController, private movieuploadService:MovieuploadService) { }\n\n  ngOnInit() {\n    let id = this.activatedRoute.snapshot.paramMap.get('id');\n    console.log(\"checking id\", id)\n  \n\n    this.moviecrudService.getDetails(id).subscribe(result => {\n      this.information = result;\n     this.movieId = id;\n     console.log(\"check info\", this.information);\n     console.log(\"check info\", this.information.movietitle);\n     console.log(\"check info\", this.information.movieurl);\n      this.videoUrl = this.information.movieurl\n      this.mp4 = this.information.movieurl\n      console.log(this.videoUrl)\n\n    });\n\n\n    this.platform = Capacitor.getPlatform();\n    console.log(`$$$ platform: ${this.platform}`);\n    if (this.platform === 'ios' || this.platform === 'android') {\n      if (this.platform === 'ios') {\n        this.iPlatform = true;\n        this.aPlatform = false;\n      } else {\n        this.iPlatform = false;\n        this.aPlatform = true;\n      }\n      this.wPlatform = false;\n    } else {\n      this.wPlatform = true;\n      this.iPlatform = false;\n      this.aPlatform = false;\n    }\n  \n  \n  }\n\n\n  async testVideoPlayerPlugin(vType: string) {\n    if(vType === 'mp4') {\n      this.url = this.mp4;\n      if(this.aPlatform){\n          this.playVideo();\n      }\n      else if(this.iPlatform){\n        this.playVideo();\n      \n      }\n      else if(this.wPlatform){\n        if(this.videoUrl ) {\n      this.sturl = this.mp4st;\n      this.stlang = this.mp4stLang ;\n      this.stoptions = this.mp4stOptions;\n    } else {\n      this.sturl = null;\n      this.stlang = null;\n      this.stoptions = null;\n    }\n    const modal = await this.modalCtrl.create({\n      component: FullscreenPage,\n      componentProps: {\n        url: this.url,\n        sturl: this.sturl,\n        stlang: this.stlang,\n        stoptions: this.stoptions,\n        rate: this.rate,\n        exitOnEnd: this.exitOnEnd,\n        loopOnEnd: this.loopOnEnd,\n        pipEnabled: this.pipEnabled,\n        bkmodeEnabled: this.bkmodeEnabled,\n        testApi: this.testApi,\n        platform: this.platform\n      },\n      swipeToClose: true\n    });\n    await modal.present();\n      }\n      else{\n        console.log(\"Your devices is not supported\")\n      }\n    }\n    else {\n      console.log('Video format not supported');\n    }\n    \n  }\n\n   playVideo(){\n    let options: StreamingVideoOptions = {\n      successCallback: () => { console.log('Video played') },\n      errorCallback: (e) => { console.log('Error streaming') },\n      orientation: 'landscape',\n      shouldAutoClose: true,\n      controls:true\n      \n    };\n    this.streamingMedia.playVideo(this.videoUrl, options);\n  }\n\n  onWatchLater(){\n     // Get the ID that was passed with the URL\n     let id = this.activatedRoute.snapshot.paramMap.get('id');\n \n      this.movieId = id;\n     console.log(this.movieId)\n\nlet data = {\n  \n  _id: this.movieId\n\n}\nconsole.log(this.watchlaterService.watchlater(data).subscribe((response)=>{\n  console.log(response);\n\n}))\n\n\n\n\n  }\n\n}\n \n\n"],"names":["Component","ActivatedRoute","Router","MoviecrudService","StreamingMedia","FullscreenPage","Capacitor","ModalController","MovieuploadService","WatchlaterService","MovieinfoPage","constructor","watchlaterService","router","activatedRoute","moviecrudService","streamingMedia","modalCtrl","movieuploadService","backgroundColor","fontSize","foregroundColor","ngOnInit","id","snapshot","paramMap","get","console","log","getDetails","subscribe","result","information","movieId","movietitle","movieurl","videoUrl","mp4","platform","getPlatform","iPlatform","aPlatform","wPlatform","testVideoPlayerPlugin","vType","url","playVideo","sturl","mp4st","stlang","mp4stLang","stoptions","mp4stOptions","modal","create","component","componentProps","rate","exitOnEnd","loopOnEnd","pipEnabled","bkmodeEnabled","testApi","swipeToClose","present","options","successCallback","errorCallback","e","orientation","shouldAutoClose","controls","onWatchLater","data","_id","watchlater","response","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}